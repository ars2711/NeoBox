{% extends "layout.html" %} {% block title %}Search Engine Prompt{% endblock %}
{% block main %}
<link
  rel="stylesheet"
  href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
/>
<div class="container mt-4">
  <h2>Search Engine Prompt</h2>
  <form id="search-form" method="post" class="mb-3 d-flex">
    <input
      type="text"
      name="query"
      class="form-control me-2"
      placeholder="Type your search..."
      value="{{ query }}"
      required
    />
    <button
      type="submit"
      class="btn btn-primary inline d-flex align-items-center"
    >
      <i class="bi bi-search"></i> Search
    </button>
  </form>
  {% if query %}
  <div class="row">
    {% for engine in search_engines %}
    <div class="col-6 col-md-4 col-lg-3 mb-3">
      <a
        href="{{ engine.url }}{{ query|urlencode }}"
        target="_blank"
        class="btn btn-outline-primary w-100 d-flex align-items-center"
      >
        <i class="bi {{ engine.icon }} me-2"></i> {{ engine.name }}
      </a>
    </div>
    {% endfor %}
  </div>
  {% endif %}
</div>
<script>
  // Allow pressing Enter or clicking the button to submit
  document.getElementById("search-form").onsubmit = function (e) {
    // Default form submit is fine, but you can add AJAX here if needed
  };
</script>
{% endblock %}
